<div class="dashboard">

    <!-- Header con BotÃ³n de Logout -->
    <div class="page-header">
        <div class="header-text">
            <h1>Bienvenido de nuevo! ðŸ‘‹</h1>
            <p>GestiÃ³n integral de tus mascotas</p>
        </div>

        <!-- BOTÃ“N DE CERRAR SESIÃ“N -->
        <button mat-flat-button color="warn" (click)="cerrarSesion()">
            <mat-icon>logout</mat-icon>
            Cerrar SesiÃ³n
        </button>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid">
        <mat-card *ngFor="let stat of stats" class="stat-card">
            <mat-card-content>
                <div class="stat-icon" [style.background-color]="stat.color + '20'">
                    <mat-icon [style.color]="stat.color">{{ stat.icon }}</mat-icon>
                </div>
                <div class="stat-info">
                    <div class="stat-label">{{ stat.label }}</div>
                    <div class="stat-value">{{ stat.value }}</div>
                </div>
            </mat-card-content>
        </mat-card>
    </div>

    <!-- Mis Mascotas Section -->
    <h2 class="section-title">Mis Mascotas</h2>

    <!-- Carousel -->
    <div class="carousel-container">
        <button mat-icon-button class="carousel-button left" (click)="scrollLeft()" [disabled]="!canGoBack">
            <mat-icon>chevron_left</mat-icon>
        </button>

        <div class="carousel-track">
            <mat-card *ngFor="let mascota of visibleMascotas" class="mascota-card">
                <div class="mascota-image" [style.background-image]="'url(' + mascota.imagen + ')'"></div>
                <mat-card-content>
                    <div class="mascota-header">
                        <mat-icon class="mascota-icon">pets</mat-icon>
                        <div class="mascota-info">
                            <h3 class="mascota-nombre">{{ mascota.nombre }}</h3>
                            <p class="mascota-raza">{{ mascota.raza }} â€¢ {{ mascota.tipo }}</p>
                        </div>
                    </div>
                    <mat-chip class="edad-chip">{{ mascota.edad }}</mat-chip>
                </mat-card-content>
                <mat-card-actions>
                    <button mat-button color="primary">Ver Detalles</button>
                </mat-card-actions>
            </mat-card>
        </div>

        <button mat-icon-button class="carousel-button right" (click)="scrollRight()" [disabled]="!canGoForward">
            <mat-icon>chevron_right</mat-icon>
        </button>
    </div>

    <!-- Appointments -->
    <h2 class="section-title" style="margin-top: 48px;">PrÃ³ximas Vacunas y Citas</h2>

    <div class="appointments-container">
        <mat-card *ngFor="let appointment of appointments" class="appointment-card">
            <mat-card-content>
                <div class="appointment-icon" [style.background-color]="appointment.iconColor + '20'">
                    <mat-icon [style.color]="appointment.iconColor">{{ appointment.icon }}</mat-icon>
                </div>
                <div class="appointment-info">
                    <h3 class="appointment-title">{{ appointment.title }}</h3>
                    <p class="appointment-pet">Para: {{ appointment.pet }}</p>
                </div>
                <div class="appointment-date">
                    <div class="date-text">{{ appointment.date }}</div>
                    <div class="status-text" [class.overdue]="appointment.status === 'overdue'">
                        {{ appointment.statusText }}
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <button mat-fab class="add-pet-button" color="warn">
            <mat-icon>add</mat-icon>
        </button>
    </div>

</div>